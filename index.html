<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>游 Claves CGBVP</title>
    
    <style>
        /* Estilos Generales */
        body {
            font-family: Arial, sans-serif;
            background: #fff5f5; /* Fondo blanco suave con un toque rosado */
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #c0392b; /* Color rojo fuerte para el t칤tulo */
        }
        /* Estilo de la caja de b칰squeda */
        input {
            width: 80%;
            padding: 10px;
            border: 2px solid #c0392b;
            border-radius: 10px;
            margin-bottom: 15px;
            box-sizing: border-box; /* Asegura que el padding no cambie el ancho total */
            max-width: 600px;
            font-size: 1em;
        }
        /* Estilos para la barra de filtros */
        #filtros {
            margin-bottom: 20px;
            display: flex; 
            flex-wrap: wrap; /* Permite que los botones se envuelvan en pantallas peque침as */
            justify-content: center;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
        #filtros button {
            background-color: #eee;
            color: #333;
            border: 1px solid #ccc;
            padding: 8px 12px;
            margin: 4px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.85em;
            white-space: nowrap; 
        }
        /* Estilo para resaltar el bot칩n activo */
        #filtros button.active,
        #filtros button:hover {
            background-color: #c0392b;
            color: white;
            border-color: #c0392b;
        }

        /* Estilos de cada item de la lista */
        .item {
            background: white;
            border-left: 8px solid #c0392b; /* Barra de color en el lateral */
            margin: 10px auto;
            padding: 10px;
            width: 80%;
            max-width: 600px;
            border-radius: 8px;
            text-align: left;
            display: flex;
            flex-direction: column;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        .codigo {
            font-weight: bold;
            color: #c0392b;
            margin-right: 10px;
            font-size: 1.1em;
        }
        .descripcion {
            font-size: 1em;
            flex-grow: 1;
        }
        .categoria-tag {
            font-size: 0.7em;
            color: #666;
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
        }
    </style>
    </head>
<body>
    <h1>游 Claves CGBVP</h1>
    
    <input type="text" id="busqueda" placeholder="Buscar c칩digo o descripci칩n..." />

    <div id="filtros">
        <button data-filtro="Todos" class="active">Todos</button>
        <button data-filtro="Servicios">Servicios</button>
        <button data-filtro="Emergencias">Emergencias</button>
        <button data-filtro="Especiales">Especiales</button>
        <button data-filtro="Jerarqu칤as">Jerarqu칤as</button>
        <button data-filtro="Compa침칤a">Compa침칤a</button>
        <button data-filtro="Nacional">Nacional</button>
        <button data-filtro="Locales">Locales</button>
        <button data-filtro="Personal">Personal</button>
    </div>
    
    <div id="lista"></div>

    <script>
        // 1. DATASET COMPLETO (La lista de claves)
        const claves = [
            // SECCI칍N 10. SERVICIOS
            { "codigo": "10.01", "descripcion": "Adelante", "categoria": "Servicios" },
            { "codigo": "10.02", "descripcion": "Operador de radio identif칤quese", "categoria": "Servicios" },
            { "codigo": "10.03", "descripcion": "Cambie frecuencia radial", "categoria": "Servicios" },
            { "codigo": "10.04", "descripcion": "Llame por tel칠fono", "categoria": "Servicios" },
            { "codigo": "10.05", "descripcion": "Comprendido", "categoria": "Servicios" },
            { "codigo": "10.06", "descripcion": "Afirmativo", "categoria": "Servicios" },
            { "codigo": "10.07", "descripcion": "Se dirige / Dir칤jase", "categoria": "Servicios" },
            { "codigo": "10.08", "descripcion": "Repita mensaje", "categoria": "Servicios" },
            { "codigo": "10.09", "descripcion": "Negativo", "categoria": "Servicios" },
            { "codigo": "10.10", "descripcion": "Comunicaci칩n con", "categoria": "Servicios" },
            { "codigo": "10.11", "descripcion": "Al mando de la unidad", "categoria": "Servicios" },
            { "codigo": "10.12", "descripcion": "Siga en escucha", "categoria": "Servicios" },
            { "codigo": "10.13", "descripcion": "Derrotero", "categoria": "Servicios" },
            { "codigo": "10.14", "descripcion": "Se consulta", "categoria": "Servicios" },
            { "codigo": "10.15", "descripcion": "Efectivos", "categoria": "Servicios" },
            { "codigo": "10.16", "descripcion": "Indique magnitud", "categoria": "Servicios" },
            { "codigo": "10.17", "descripcion": "Informe novedades", "categoria": "Servicios" },
            { "codigo": "10.18", "descripcion": "Direcci칩n", "categoria": "Servicios" },
            { "codigo": "10.19", "descripcion": "Ubicaci칩n", "categoria": "Servicios" },
            { "codigo": "10.20", "descripcion": "En el lugar", "categoria": "Servicios" },
            { "codigo": "10.21", "descripcion": "L칤nea privada", "categoria": "Servicios" },
            { "codigo": "10.22", "descripcion": "En sinton칤a", "categoria": "Servicios" },
            { "codigo": "10.23", "descripcion": "Se retira del lugar", "categoria": "Servicios" },
            { "codigo": "10.24", "descripcion": "Urgente", "categoria": "Servicios" },
            { "codigo": "10.25", "descripcion": "Emergencia confirmada", "categoria": "Servicios" },
            { "codigo": "10.26", "descripcion": "En servicio", "categoria": "Servicios" },
            { "codigo": "10.27", "descripcion": "Disponible", "categoria": "Servicios" },
            { "codigo": "10.28", "descripcion": "Emergencia cancelada", "categoria": "Servicios" },
            { "codigo": "10.29", "descripcion": "Continue en alerta", "categoria": "Servicios" },
            { "codigo": "10.30", "descripcion": "Ingresa su base", "categoria": "Servicios" },
            { "codigo": "10.31", "descripcion": "Traslado / transporte", "categoria": "Servicios" },
            { "codigo": "10.32", "descripcion": "Emergencia en progreso", "categoria": "Servicios" },
            { "codigo": "10.33", "descripcion": "Emergencia controlada", "categoria": "Servicios" },
            { "codigo": "10.34", "descripcion": "Tome precauciones", "categoria": "Servicios" },
            { "codigo": "10.35", "descripcion": "Requiere polic칤a", "categoria": "Servicios" },
            { "codigo": "10.36", "descripcion": "Fuera de sinton칤a", "categoria": "Servicios" },
            { "codigo": "10.37", "descripcion": "Requiere empresa el칠ctrica", "categoria": "Servicios" },
            { "codigo": "10.38", "descripcion": "Abastecimiento de...", "categoria": "Servicios" },
            { "codigo": "10.39", "descripcion": "Fuera de servicio", "categoria": "Servicios" },
            { "codigo": "10.40", "descripcion": "Espere ordenes", "categoria": "Servicios" },
            { "codigo": "10.41", "descripcion": "Herido", "categoria": "Servicios" },
            { "codigo": "10.42", "descripcion": "Muerto", "categoria": "Servicios" },
            { "codigo": "10.43", "descripcion": "Herido FFAA/FFPP", "categoria": "Servicios" },
            { "codigo": "10.44", "descripcion": "Param칠dico", "categoria": "Servicios" },
            { "codigo": "10.45", "descripcion": "Medico", "categoria": "Servicios" },
            { "codigo": "10.46", "descripcion": "Enfermo", "categoria": "Servicios" },
            { "codigo": "10.47", "descripcion": "No interrumpir", "categoria": "Servicios" },
            { "codigo": "10.48", "descripcion": "Bombero piloto", "categoria": "Servicios" },
            { "codigo": "10.49", "descripcion": "Piloto rentado", "categoria": "Servicios" },
            { "codigo": "10.50", "descripcion": "En estado de alerta", "categoria": "Servicios" },
            { "codigo": "10.51", "descripcion": "Parturienta", "categoria": "Servicios" },
            { "codigo": "10.52", "descripcion": "Toque sirena", "categoria": "Servicios" },
            { "codigo": "10.53", "descripcion": "Regrese a su base", "categoria": "Servicios" },
            { "codigo": "10.54", "descripcion": "Prosiga la marcha", "categoria": "Servicios" },
            { "codigo": "10.55", "descripcion": "Requiere de empresa de saneamiento", "categoria": "Servicios" },
            { "codigo": "10.56", "descripcion": "Deje sin efecto", "categoria": "Servicios" },
            { "codigo": "10.57", "descripcion": "Utilice claves", "categoria": "Servicios" },
            { "codigo": "10.58", "descripcion": "Fin de estado de alerta", "categoria": "Servicios" },
            { "codigo": "10.59", "descripcion": "Guardia nocturna", "categoria": "Servicios" },
            { "codigo": "10.60", "descripcion": "Tipo de emergencia", "categoria": "Servicios" },

            // SECCI칍N 20. EMERGENCIAS
            { "codigo": "20.01", "descripcion": "Efectivo CGBVP accidentado", "categoria": "Emergencias" },
            { "codigo": "20.02", "descripcion": "Veh칤culo CGBVP accidentado", "categoria": "Emergencias" },
            { "codigo": "20.03", "descripcion": "Atentado/artefacto explosivo", "categoria": "Emergencias" },
            { "codigo": "20.04", "descripcion": "Atropellado", "categoria": "Emergencias" },
            { "codigo": "20.05", "descripcion": "Ascensor atrapado", "categoria": "Emergencias" },
            { "codigo": "20.06", "descripcion": "Inundaci칩n", "categoria": "Emergencias" },
            { "codigo": "20.07", "descripcion": "Falsa Alarma", "categoria": "Emergencias" },
            { "codigo": "20.08", "descripcion": "Incendio vehicular", "categoria": "Emergencias" },
            { "codigo": "20.09", "descripcion": "Derrumbe", "categoria": "Emergencias" },
            { "codigo": "20.10", "descripcion": "Derrame producto ?", "categoria": "Emergencias" },
            { "codigo": "20.11", "descripcion": "Material peligros-indique", "categoria": "Emergencias" },
            { "codigo": "20.12", "descripcion": "Fuga de gas", "categoria": "Emergencias" },
            { "codigo": "20.13", "descripcion": "Grifo/cisterna", "categoria": "Emergencias" },
            { "codigo": "20.14", "descripcion": "Incendio/no apoyo", "categoria": "Emergencias" },
            { "codigo": "20.15", "descripcion": "Incendio/1 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.16", "descripcion": "Incendio/2 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.17", "descripcion": "Incendio/+2 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.18", "descripcion": "Incendio/+3 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.19", "descripcion": "Cat치strofe-orden 7.11-7.12", "categoria": "Emergencias" },
            { "codigo": "20.20", "descripcion": "Incendio forestal", "categoria": "Emergencias" },
            { "codigo": "20.21", "descripcion": "Incendio terreno bald칤o", "categoria": "Emergencias" },
            { "codigo": "20.22", "descripcion": "Corto circuito", "categoria": "Emergencias" },
            { "codigo": "20.23", "descripcion": "Accidente vehicular", "categoria": "Emergencias" },
            { "codigo": "20.24", "descripcion": "Rescate /Atrapados", "categoria": "Emergencias" },
            { "codigo": "20.25", "descripcion": "Huayco/Erupci칩n volc치nica", "categoria": "Emergencias" },
            { "codigo": "20.26", "descripcion": "Evacuaci칩n/Fumigaci칩n", "categoria": "Emergencias" },
            { "codigo": "20.27", "descripcion": "Poste el칠ctrico/aviso luminoso", "categoria": "Emergencias" },

            // SECCI칍N 30. SERVICIOS ESPECIALES
            { "codigo": "30.30", "descripcion": "Otro servicio/Servicio especial", "categoria": "Especiales" },
            { "codigo": "30.31", "descripcion": "Practicas/charlas/simulacros/ceremonias", "categoria": "Especiales" },
            { "codigo": "30.32", "descripcion": "Eventos/conciertos/festivales", "categoria": "Especiales" },
            { "codigo": "30.33", "descripcion": "Abrir puertas", "categoria": "Especiales" },
            { "codigo": "30.34", "descripcion": "Colocar letreros/pancartas", "categoria": "Especiales" },
            { "codigo": "30.35", "descripcion": "Velorio/Entierro", "categoria": "Especiales" },
            { "codigo": "30.36", "descripcion": "Apoyos sociales (servicios de agua/vacunaci칩n)", "categoria": "Especiales" },

            // SECCI칍N 3. JERARQU칈AS
            { "codigo": "3.01", "descripcion": "Brigadier General", "categoria": "Jerarqu칤as" },
            { "codigo": "3.02", "descripcion": "Brigadier Mayor", "categoria": "Jerarqu칤as" },
            { "codigo": "3.03", "descripcion": "Brigadier", "categoria": "Jerarqu칤as" },
            { "codigo": "3.04", "descripcion": "Teniente brigadier", "categoria": "Jerarqu칤as" },
            { "codigo": "3.05", "descripcion": "Capit치n", "categoria": "Jerarqu칤as" },
            { "codigo": "3.06", "descripcion": "Teniente", "categoria": "Jerarqu칤as" },
            { "codigo": "3.07", "descripcion": "sub. teniente", "categoria": "Jerarqu칤as" },
            { "codigo": "3.08", "descripcion": "Seccionario", "categoria": "Jerarqu칤as" },
            { "codigo": "3.09", "descripcion": "Alumno", "categoria": "Jerarqu칤as" },

            // SECCI칍N 7. COMANDO REGIONAL (Nacional)
            { "codigo": "7.11", "descripcion": "Comandante regional", "categoria": "Nacional" },
            { "codigo": "7.12", "descripcion": "Vice Comandante regional", "categoria": "Nacional" },
            { "codigo": "7.13", "descripcion": "Inspector regional", "categoria": "Nacional" },
            { "codigo": "7.14", "descripcion": "Presidente del concejo de disciplina", "categoria": "Nacional" },
            { "codigo": "7.16", "descripcion": "Jefe de brigada", "categoria": "Nacional" },
            { "codigo": "7.17", "descripcion": "Jefe de personal", "categoria": "Nacional" },
            { "codigo": "7.19", "descripcion": "Jefe de log칤stica y mantenimiento", "categoria": "Nacional" },
            { "codigo": "7.21", "descripcion": "Jefe de t칠cnica", "categoria": "Nacional" },
            { "codigo": "7.22", "descripcion": "Jefe de sanidad regional", "categoria": "Nacional" },
            { "codigo": "7.25", "descripcion": "Jefe de RRPP", "categoria": "Nacional" },

            // SECCI칍N 30. COMPA칌칈A (Jefaturas)
            { "codigo": "30.11", "descripcion": "Primer jefe de compa침칤a", "categoria": "Compa침칤a" },
            { "codigo": "33.12", "descripcion": "Segundo jefe de compa침칤a", "categoria": "Compa침칤a" },
            { "codigo": "30.13", "descripcion": "Jefe de operaciones emergencias", "categoria": "Compa침칤a" },
            { "codigo": "30.14", "descripcion": "Jefe operaci칩n 1", "categoria": "Compa침칤a" },
            { "codigo": "30.15", "descripcion": "Jefe de operaciones 2", "categoria": "Compa침칤a" },
            { "codigo": "30.16", "descripcion": "Jefe de operaciones 3", "categoria": "Compa침칤a" },
            { "codigo": "30.17", "descripcion": "Jefe de administraci칩n", "categoria": "Compa침칤a" },
            { "codigo": "30.18", "descripcion": "Jefe de servicio", "categoria": "Compa침칤a" },
            { "codigo": "30.19", "descripcion": "Jefe de disciplina", "categoria": "Compa침칤a" },
            { "codigo": "30.22", "descripcion": "Medico de turno", "categoria": "Compa침칤a" },

            // SECCI칍N X. LOCALES
            { "codigo": "X6", "descripcion": "Comando regional", "categoria": "Locales" },
            { "codigo": "X7", "descripcion": "Cuartel de compa침칤a", "categoria": "Locales" },
            { "codigo": "X14", "descripcion": "Domicilio", "categoria": "Locales" },
            { "codigo": "X15", "descripcion": "Centro de trabajo", "categoria": "Locales" },

            // SECCI칍N 1. PERSONAL RENTADO (Personal)
            { "codigo": "1.01", "descripcion": "Contador", "categoria": "Personal" },
            { "codigo": "1.02", "descripcion": "Secretaria", "categoria": "Personal" },
            { "codigo": "1.03", "descripcion": "Auxiliar de secretaria", "categoria": "Personal" },
            { "codigo": "1.04", "descripcion": "Chofer cuartelero", "categoria": "Personal" },
            { "codigo": "1.05", "descripcion": "Cuartelero", "categoria": "Personal" },
            { "codigo": "1.06", "descripcion": "Operador de radio", "categoria": "Personal" },
            { "codigo": "1.07", "descripcion": "Obrero", "categoria": "Personal" },
            { "codigo": "1.08", "descripcion": "Conserje", "categoria": "Personal" },
            { "codigo": "1.09", "descripcion": "Practicante", "categoria": "Personal" }
        ];

        // 2. OBTENER ELEMENTOS DEL DOM
        const input = document.getElementById("busqueda");
        const lista = document.getElementById("lista");
        const contenedorFiltros = document.getElementById("filtros");

        let categoriaActiva = "Todos"; // Controla qu칠 segmento est치 seleccionado

        // 3. FUNCI칍N PARA DIBUJAR LA LISTA
        function mostrarClaves(filtradas) {
            lista.innerHTML = ""; // Limpiar la lista actual
            filtradas.forEach(c => {
                const div = document.createElement("div");
                div.classList.add("item");
                
                // Crea la estructura de la clave
                div.innerHTML = `
                    <div class="item-header">
                        <span class="codigo">${c.codigo}</span>
                        <span class="categoria-tag">${c.categoria}</span>
                    </div>
                    <span class="descripcion">${c.descripcion}</span>
                `;
                lista.appendChild(div);
            });
        }

        // 4. FUNCI칍N MAESTRA DE SEGMENTACI칍N (FILTRADO POR CATEGOR칈A)
        function filtrarPorCategoria(categoria) {
            let listaResultado = claves; // Empezamos con el conjunto completo

            // Si la categor칤a NO es "Todos", usamos .filter() para segmentar el conjunto
            if (categoria !== "Todos") {
                listaResultado = claves.filter(clave => clave.categoria === categoria);
            }

            // Muestra los resultados segmentados
            mostrarClaves(listaResultado);
            
            // Actualiza el estilo del bot칩n activo
            document.querySelectorAll('#filtros button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filtro="${categoria}"]`).classList.add('active');
            
            // Guarda la categor칤a activa para la b칰squeda por texto
            categoriaActiva = categoria; 
        }

        // 5. EVENTO PARA EL FILTRO POR BOT칍N (CLICK)
        contenedorFiltros.addEventListener("click", (evento) => {
            if (evento.target.tagName === 'BUTTON' && evento.target.dataset.filtro) {
                const categoriaSeleccionada = evento.target.dataset.filtro;
                input.value = ""; // Limpia la b칰squeda al cambiar de filtro
                filtrarPorCategoria(categoriaSeleccionada);
            }
        });

        // 6. EVENTO PARA LA B칔SQUEDA POR TEXTO (INPUT)
        input.addEventListener("input", () => {
            const texto = input.value.toLowerCase();
            
            // 6.1. Define el subconjunto base (la lista completa o la lista ya segmentada)
            let listaBase = claves;
            if (categoriaActiva !== "Todos") {
                listaBase = claves.filter(clave => clave.categoria === categoriaActiva);
            }

            // 6.2. Aplica el filtro de texto sobre el subconjunto
            const filtradasPorTexto = listaBase.filter(c =>
                c.descripcion.toLowerCase().includes(texto) ||
                c.codigo.includes(texto)
            );
            
            mostrarClaves(filtradasPorTexto);
        });

        // INICIALIZACI칍N: Muestra la lista completa al cargar la p치gina y activa el bot칩n "Todos"
        filtrarPorCategoria("Todos"); 
    </script>
    </body>
</html>
